(this.webpackJsonpBanglarBazar=this.webpackJsonpBanglarBazar||[]).push([[29],{145:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return i})),a.d(t,"e",(function(){return l})),a.d(t,"f",(function(){return p})),a.d(t,"a",(function(){return m})),a.d(t,"d",(function(){return f}));var n=a(0),r=a.n(n),c=a(1),u=a(35),o=a.n(u),s=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("".concat("https://ranjuback-production.up.railway.app/api","/categories"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("".concat("https://ranjuback-production.up.railway.app/api","/category/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("".concat("https://ranjuback-production.up.railway.app/api","/category/").concat(t),{headers:{authtoken:a}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(r.a.mark((function e(t,a,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.put("".concat("https://ranjuback-production.up.railway.app/api","/category/").concat(t),a,{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("".concat("https://ranjuback-production.up.railway.app/api","/category"),t,{headers:{authtoken:a}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("".concat("https://ranjuback-production.up.railway.app/api","/category/subs/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},147:function(e,t,a){"use strict";var n=a(2),r=a.n(n),c=a(43);t.a=function(){return r.a.createElement("nav",null,r.a.createElement("ul",{className:"nav flex-column"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{to:"/admin/dashboard",className:"nav-link"},"Dashboard")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{to:"/admin/product",className:"nav-link"},"Product")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{to:"/admin/products",className:"nav-link"},"Products")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{to:"/admin/category",className:"nav-link"},"Category")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{to:"/admin/sub",className:"nav-link"},"Sub Category")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{to:"/admin/coupon",className:"nav-link"},"Coupon")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{to:"/user/password",className:"nav-link"},"Password"))))}},151:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"e",(function(){return i})),a.d(t,"i",(function(){return l})),a.d(t,"c",(function(){return p})),a.d(t,"j",(function(){return m})),a.d(t,"d",(function(){return f})),a.d(t,"f",(function(){return d})),a.d(t,"h",(function(){return b})),a.d(t,"g",(function(){return h})),a.d(t,"b",(function(){return v}));var n=a(0),r=a.n(n),c=a(1),u=a(35),o=a.n(u),s=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("".concat("https://ranjuback-production.up.railway.app/api","/product"),t,{headers:{authtoken:a}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("".concat("https://ranjuback-production.up.railway.app/api","/products/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("".concat("https://ranjuback-production.up.railway.app/api","/product/").concat(t),{headers:{authtoken:a}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("".concat("https://ranjuback-production.up.railway.app/api","/product/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(r.a.mark((function e(t,a,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.put("".concat("https://ranjuback-production.up.railway.app/api","/product/").concat(t),a,{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(r.a.mark((function e(t,a,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("".concat("https://ranjuback-production.up.railway.app/api","/products"),{sort:t,order:a,page:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("".concat("https://ranjuback-production.up.railway.app/api","/products/total"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(r.a.mark((function e(t,a,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.put("".concat("https://ranjuback-production.up.railway.app/api","/product/star/").concat(t),{star:a},{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("".concat("https://ranjuback-production.up.railway.app/api","/product/related/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("".concat("https://ranjuback-production.up.railway.app/api","/search/filters"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},361:function(e,t,a){"use strict";var n=a(44),r=a(2),c=a.n(r),u=a(461),o=a.n(u),s=a(35),i=a.n(s),l=a(34),p=a(909),m=a(934);t.a=function(e){var t=e.values,a=e.setValues,r=e.setLoading,u=Object(l.c)((function(e){return Object(n.a)({},e)})).user;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"row"},t.images&&t.images.map((function(e){return c.a.createElement(p.a,{count:"X",key:e.public_id,onClick:function(){return c=e.public_id,r(!0),void i.a.post("".concat("https://ranjuback-production.up.railway.app/api","/removeimage"),{public_id:c},{headers:{authtoken:u?u.token:""}}).then((function(e){r(!1);var u=t.images.filter((function(e){return e.public_id!==c}));a(Object(n.a)(Object(n.a)({},t),{},{images:u}))})).catch((function(e){console.log(e),r(!1)}));var c},style:{cursor:"pointer"}},c.a.createElement(m.a,{src:e.url,size:100,shape:"square",className:"ml-3"}))}))),c.a.createElement("div",{className:"row"},c.a.createElement("label",{className:"btn btn-primary btn-raised mt-3"},"Choose File",c.a.createElement("input",{type:"file",multiple:!0,hidden:!0,accept:"images/*",onChange:function(e){var c=e.target.files,s=t.images;if(c){r(!0);for(var l=0;l<c.length;l++)o.a.imageFileResizer(c[l],720,720,"JPEG",100,0,(function(e){i.a.post("".concat("https://ranjuback-production.up.railway.app/api","/uploadimages"),{image:e},{headers:{authtoken:u?u.token:""}}).then((function(e){console.log("IMAGE UPLOAD RES DATA",e),r(!1),s.push(e.data),a(Object(n.a)(Object(n.a)({},t),{},{images:s}))})).catch((function(e){r(!1),console.log("CLOUDINARY UPLOAD ERR",e)}))}),"base64")}}}))))}},939:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(44),c=a(20),u=a(2),o=a.n(u),s=a(147),i=a(50),l=a(34),p=a(151),m=a(145),f=a(361),d=a(111),b=a(376),h=b.a.Option,v=function(e){var t=e.handleSubmit,a=e.handleChange,n=(e.setValues,e.values),r=e.handleCategoryChange,c=e.categories,u=e.subOptions,s=e.arrayOfSubs,i=e.setArrayOfSubs,l=e.selectedCategory,p=n.title,m=n.description,f=n.price,d=n.category,v=(n.subs,n.shipping),g=n.quantity,E=(n.images,n.colors),y=n.brands,j=n.color,O=n.brand;return o.a.createElement("form",{onSubmit:t},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Title"),o.a.createElement("input",{type:"text",name:"title",className:"form-control",value:p,onChange:a})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Description"),o.a.createElement("input",{type:"text",name:"description",className:"form-control",value:m,onChange:a})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Price"),o.a.createElement("input",{type:"number",name:"price",className:"form-control",value:f,onChange:a})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Shipping"),o.a.createElement("select",{value:"Yes"===v?"Yes":"No",name:"shipping",className:"form-control",onChange:a},o.a.createElement("option",{value:"No"},"No"),o.a.createElement("option",{value:"Yes"},"Yes"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Quantity"),o.a.createElement("input",{type:"number",name:"quantity",className:"form-control",value:g,onChange:a})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Color"),o.a.createElement("select",{value:j,name:"color",className:"form-control",onChange:a},E.map((function(e){return o.a.createElement("option",{key:e,value:e},e)})))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Brand"),o.a.createElement("select",{value:O,name:"brand",className:"form-control",onChange:a},y.map((function(e){return o.a.createElement("option",{key:e,value:e},e)})))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Category"),o.a.createElement("select",{name:"category",className:"form-control",onChange:r,value:l||d._id},c.length>0&&c.map((function(e){return o.a.createElement("option",{key:e._id,value:e._id},e.name)})))),o.a.createElement("div",null,o.a.createElement("label",null,"Sub Categories"),o.a.createElement(b.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",value:s,onChange:function(e){return i(e)}},u.length&&u.map((function(e){return o.a.createElement(h,{key:e._id,value:e._id},e.name)})))),o.a.createElement("br",null),o.a.createElement("button",{className:"btn btn-outline-info"},"Save"))},g={title:"",description:"",price:"",category:"",subs:[],shipping:"",quantity:"",images:[],colors:["Black","Brown","Silver","White","Blue"],brands:["Apple","Samsung","Microsoft","Lenovo","ASUS"],color:"",brand:""};t.default=function(e){var t=e.match,a=e.history,b=Object(u.useState)(g),h=Object(c.a)(b,2),E=h[0],y=h[1],j=Object(u.useState)([]),O=Object(c.a)(j,2),k=O[0],w=O[1],N=Object(u.useState)([]),x=Object(c.a)(N,2),C=x[0],S=x[1],A=Object(u.useState)([]),P=Object(c.a)(A,2),R=P[0],_=P[1],D=Object(u.useState)(""),T=Object(c.a)(D,2),B=T[0],I=T[1],G=Object(u.useState)(!1),L=Object(c.a)(G,2),Y=L[0],U=L[1],q=Object(l.c)((function(e){return Object(r.a)({},e)})).user,z=t.params.slug;Object(u.useEffect)((function(){V(),F()}),[]);var V=function(){Object(p.c)(z).then((function(e){y(Object(r.a)(Object(r.a)({},E),e.data)),Object(m.d)(e.data.category._id).then((function(e){S(e.data)}));var t=[];e.data.subs.map((function(e){t.push(e._id)})),console.log("ARR",t),_((function(e){return t}))}))},F=function(){return Object(m.b)().then((function(e){console.log("GET CATEGORIES IN UPDATE PRODUCT",e.data),w(e.data)}))};return o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-2"},o.a.createElement(s.a,null)),o.a.createElement("div",{className:"col-md-10"},Y?o.a.createElement(d.a,{className:"text-danger h1"}):o.a.createElement("h4",null,"Product update"),o.a.createElement("div",{className:"p-3"},o.a.createElement(f.a,{values:E,setValues:y,setLoading:U})),o.a.createElement(v,{handleSubmit:function(e){e.preventDefault(),U(!0),E.subs=R,E.category=B||E.category,Object(p.j)(z,E,q.token).then((function(e){U(!1),i.b.success('"'.concat(e.data.title,'" is updated')),a.push("/admin/products")})).catch((function(e){console.log(e),U(!1),i.b.error(e.response.data.err)}))},handleChange:function(e){y(Object(r.a)(Object(r.a)({},E),{},Object(n.a)({},e.target.name,e.target.value)))},setValues:y,values:E,handleCategoryChange:function(e){e.preventDefault(),console.log("CLICKED CATEGORY",e.target.value),y(Object(r.a)(Object(r.a)({},E),{},{subs:[]})),I(e.target.value),Object(m.d)(e.target.value).then((function(e){console.log("SUB OPTIONS ON CATGORY CLICK",e),S(e.data)})),console.log("EXISTING CATEGORY values.category",E.category),E.category._id===e.target.value&&V(),_([])},categories:k,subOptions:C,arrayOfSubs:R,setArrayOfSubs:_,selectedCategory:B}),o.a.createElement("hr",null))))}}}]);
//# sourceMappingURL=29.8c1535f2.chunk.js.map