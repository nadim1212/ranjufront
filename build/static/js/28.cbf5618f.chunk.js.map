{"version":3,"sources":["functions/category.js","components/nav/AdminNav.js","functions/product.js","components/forms/FileUpload.js","components/forms/ProductCreateForm.js","pages/admin/product/ProductCreate.js"],"names":["getCategories","a","axios","get","process","getCategory","slug","removeCategory","authtoken","delete","headers","updateCategory","category","put","createCategory","post","getCategorySubs","_id","AdminNav","className","to","createProduct","product","getProductsByCount","count","removeProduct","getProduct","updateProduct","getProducts","sort","order","page","getProductsCount","productStar","productId","star","getRelated","fetchProductsByFilter","arg","FileUpload","values","setValues","setLoading","user","useSelector","state","images","map","image","key","public_id","onClick","token","then","res","filteredImages","filter","item","catch","err","console","log","style","cursor","src","url","size","shape","type","multiple","hidden","accept","onChange","e","files","target","allUploadedFiles","i","length","Resizer","imageFileResizer","uri","push","data","Option","Select","ProductCreateForm","handleSubmit","handleChange","handleCatagoryChange","subOptions","showSub","title","description","price","offer_price","reseller_price","categories","subs","quantity","shipping","colors","brands","color","brand","onSubmit","name","value","c","b","mode","width","placeholder","s","initialState","ProductCreate","useState","setSubOptions","setShowSub","loading","useEffect","loadCategories","LoadingOutlined","preventDefault","window","alert","location","reload","toast","error","response"],"mappings":"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","file":"static/js/28.cbf5618f.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport const getCategories = async () =>\n  await axios.get(`${process.env.REACT_APP_API}/categories`);\n\nexport const getCategory = async (slug) =>\n  await axios.get(`${process.env.REACT_APP_API}/category/${slug}`);\n\nexport const removeCategory = async (slug, authtoken) =>\n  await axios.delete(`${process.env.REACT_APP_API}/category/${slug}`, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const updateCategory = async (slug, category, authtoken) =>\n  await axios.put(`${process.env.REACT_APP_API}/category/${slug}`, category, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const createCategory = async (category, authtoken) =>\n  await axios.post(`${process.env.REACT_APP_API}/category`, category, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const getCategorySubs = async (_id) =>\n  await axios.get(`${process.env.REACT_APP_API}/category/subs/${_id}`);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst AdminNav = () => (\n  <nav>\n    <ul className=\"nav flex-column\">\n      <li className=\"nav-item\">\n        <Link to=\"/admin/dashboard\" className=\"nav-link\">\n          Dashboard\n        </Link>\n      </li>\n\n      <li className=\"nav-item\">\n        <Link to=\"/admin/product\" className=\"nav-link\">\n          Product\n        </Link>\n      </li>\n\n      <li className=\"nav-item\">\n        <Link to=\"/admin/products\" className=\"nav-link\">\n          Products\n        </Link>\n      </li>\n\n      <li className=\"nav-item\">\n        <Link to=\"/admin/category\" className=\"nav-link\">\n          Category\n        </Link>\n      </li>\n\n      <li className=\"nav-item\">\n        <Link to=\"/admin/sub\" className=\"nav-link\">\n          Sub Category\n        </Link>\n      </li>\n\n      <li className=\"nav-item\">\n        <Link to=\"/admin/coupon\" className=\"nav-link\">\n          Coupon\n        </Link>\n      </li>\n\n      <li className=\"nav-item\">\n        <Link to=\"/user/password\" className=\"nav-link\">\n          Password\n        </Link>\n      </li>\n    </ul>\n  </nav>\n);\n\nexport default AdminNav;\n","import axios from \"axios\";\n\nexport const createProduct = async (product, authtoken) =>\n  await axios.post(`${process.env.REACT_APP_API}/product`, product, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const getProductsByCount = async (count) =>\n  await axios.get(`${process.env.REACT_APP_API}/products/${count}`);\n\nexport const removeProduct = async (slug, authtoken) =>\n  await axios.delete(`${process.env.REACT_APP_API}/product/${slug}`, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const getProduct = async (slug) =>\n  await axios.get(`${process.env.REACT_APP_API}/product/${slug}`);\n\nexport const updateProduct = async (slug, product, authtoken) =>\n  await axios.put(`${process.env.REACT_APP_API}/product/${slug}`, product, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const getProducts = async (sort, order, page) =>\n  await axios.post(`${process.env.REACT_APP_API}/products`, {\n    sort,\n    order,\n    page,\n  });\n\nexport const getProductsCount = async () =>\n  await axios.get(`${process.env.REACT_APP_API}/products/total`);\n\nexport const productStar = async (productId, star, authtoken) =>\n  await axios.put(\n    `${process.env.REACT_APP_API}/product/star/${productId}`,\n    { star },\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n\nexport const getRelated = async (productId) =>\n  await axios.get(`${process.env.REACT_APP_API}/product/related/${productId}`);\n\nexport const fetchProductsByFilter = async (arg) =>\n  await axios.post(`${process.env.REACT_APP_API}/search/filters`, arg);\n","import React from \"react\";\nimport Resizer from \"react-image-file-resizer\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport { Avatar, Badge } from \"antd\";\n\nconst FileUpload = ({ values, setValues, setLoading }) => {\n  const { user } = useSelector((state) => ({ ...state }));\n\n  const fileUploadAndResize = (e) => {\n    // console.log(e.target.files);\n    // resize\n    let files = e.target.files; // 3\n    let allUploadedFiles = values.images;\n\n    if (files) {\n      setLoading(true);\n      for (let i = 0; i < files.length; i++) {\n        Resizer.imageFileResizer(\n          files[i],\n          720,\n          720,\n          \"JPEG\",\n          100,\n          0,\n          (uri) => {\n            // console.log(uri);\n            axios\n              .post(\n                `${process.env.REACT_APP_API}/uploadimages`,\n                { image: uri },\n                {\n                  headers: {\n                    authtoken: user ? user.token : \"\",\n                  },\n                }\n              )\n              .then((res) => {\n                console.log(\"IMAGE UPLOAD RES DATA\", res);\n                setLoading(false);\n                allUploadedFiles.push(res.data);\n\n                setValues({ ...values, images: allUploadedFiles });\n              })\n              .catch((err) => {\n                setLoading(false);\n                console.log(\"CLOUDINARY UPLOAD ERR\", err);\n              });\n          },\n          \"base64\"\n        );\n      }\n    }\n    // send back to server to upload to cloudinary\n    // set url to images[] in the parent component state - ProductCreate\n  };\n\n  const handleImageRemove = (public_id) => {\n    setLoading(true);\n    // console.log(\"remove image\", public_id);\n    axios\n      .post(\n        `${process.env.REACT_APP_API}/removeimage`,\n        { public_id },\n        {\n          headers: {\n            authtoken: user ? user.token : \"\",\n          },\n        }\n      )\n      .then((res) => {\n        setLoading(false);\n        const { images } = values;\n        let filteredImages = images.filter((item) => {\n          return item.public_id !== public_id;\n        });\n        setValues({ ...values, images: filteredImages });\n      })\n      .catch((err) => {\n        console.log(err);\n        setLoading(false);\n      });\n  };\n\n  return (\n    <>\n      <div className=\"row\">\n        {values.images &&\n          values.images.map((image) => (\n            <Badge\n              count=\"X\"\n              key={image.public_id}\n              onClick={() => handleImageRemove(image.public_id)}\n              style={{ cursor: \"pointer\" }}\n            >\n              <Avatar\n                src={image.url}\n                size={100}\n                shape=\"square\"\n                className=\"ml-3\"\n              />\n            </Badge>\n          ))}\n      </div>\n      <div className=\"row\">\n        <label className=\"btn btn-primary btn-raised mt-3\">\n          Choose File\n          <input\n            type=\"file\"\n            multiple\n            hidden\n            accept=\"images/*\"\n            onChange={fileUploadAndResize}\n          />\n        </label>\n      </div>\n    </>\n  );\n};\n\nexport default FileUpload;\n","import React from \"react\";\nimport { Select } from \"antd\";\n\nconst { Option } = Select;\n\nconst ProductCreateForm = ({\n  handleSubmit,\n  handleChange,\n  setValues,\n  values,\n  handleCatagoryChange,\n  subOptions,\n  showSub,\n}) => {\n  // destructure\n  const {\n    title,\n    description,\n    price,\n    offer_price,\n    reseller_price,\n    categories,\n    category,\n    subs,\n    shipping,\n    quantity,\n    images,\n    colors,\n    brands,\n    color,\n    brand,\n  } = values;\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <label>Title</label>\n        <input\n          type=\"text\"\n          name=\"title\"\n          className=\"form-control\"\n          value={title}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Description</label>\n        <input\n          type=\"text\"\n          name=\"description\"\n          className=\"form-control\"\n          value={description}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Price</label>\n        <input\n          type=\"number\"\n          name=\"price\"\n          className=\"form-control\"\n          value={price}\n          onChange={handleChange}\n        />\n      </div>\n      <div className=\"form-group\">\n        <label>Offer Price</label>\n        <input\n          type=\"number\"\n          name=\"offer_price\"\n          className=\"form-control\"\n          value={offer_price}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Reseller Price</label>\n        <input\n          type=\"number\"\n          name=\"reseller_price\"\n          className=\"form-control\"\n          value={reseller_price}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Shipping</label>\n        <select\n          name=\"shipping\"\n          className=\"form-control\"\n          onChange={handleChange}\n        >\n          <option>Please select</option>\n          <option value=\"No\">No</option>\n          <option value=\"Yes\">Yes</option>\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label>Quantity</label>\n        <input\n          type=\"number\"\n          name=\"quantity\"\n          className=\"form-control\"\n          value={quantity}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Color</label>\n        <select name=\"color\" className=\"form-control\" onChange={handleChange}>\n          <option>Please select</option>\n          {colors.map((c) => (\n            <option key={c} value={c}>\n              {c}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label>Brand</label>\n        <select name=\"brand\" className=\"form-control\" onChange={handleChange}>\n          <option>Please select</option>\n          {brands.map((b) => (\n            <option key={b} value={b}>\n              {b}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label>Category</label>\n        <select\n          name=\"category\"\n          className=\"form-control\"\n          onChange={handleCatagoryChange}\n        >\n          <option>Please select</option>\n          {categories.length > 0 &&\n            categories.map((c) => (\n              <option key={c._id} value={c._id}>\n                {c.name}\n              </option>\n            ))}\n        </select>\n      </div>\n\n      {showSub && (\n        <div>\n          <label>Sub Categories</label>\n          <Select\n            mode=\"multiple\"\n            style={{ width: \"100%\" }}\n            placeholder=\"Please select\"\n            value={subs}\n            onChange={(value) => setValues({ ...values, subs: value })}\n          >\n            {subOptions.length &&\n              subOptions.map((s) => (\n                <Option key={s._id} value={s._id}>\n                  {s.name}\n                </Option>\n              ))}\n          </Select>\n        </div>\n      )}\n\n      <br />\n      <button className=\"btn btn-outline-info\">Save</button>\n    </form>\n  );\n};\n\nexport default ProductCreateForm;\n\n/**\n * reusable form for create/update\n \n  import React from 'react';\nimport { Button, Select } from 'antd';\nconst { Option } = Select;\n \nconst ProductCreateForm = ({\n  handleClick,\n  handleChange,\n  formData,\n  handleCategorySelect,\n  showSubCat,\n  setFormData,\n  subCategories,\n  categories,\n}) => {\n  //DE-STRUCTURE FORM DATA\n  const {\n    title,\n    description,\n    price,\n    quantity,\n \n    category,\n    subCategory,\n    color,\n    colors,\n    brand,\n    brands,\n    shipping,\n  } = formData;\n \n  const renderCategorySelectOption = categories.map((category) => (\n    <option key={category._id} value={category._id}>\n      {category.name}\n    </option>\n  ));\n \n  const renderSubCategorySelectOption = subCategories.map((subCategory) => (\n    <Option key={subCategory._id} value={subCategory._id}>\n      {subCategory.name}\n    </Option>\n  ));\n \n  return (\n    <form>\n      <div className='form-group'>\n        <label htmlFor='title'>Title</label>\n        <input\n          type='text'\n          name='title'\n          id='title'\n          value={title}\n          className='form-control'\n          autoComplete='off'\n          placeholder='Enter a product title'\n          onChange={handleChange}\n        />\n      </div>\n      <div className='form-group'>\n        <label htmlFor='description'>Description</label>\n        <textarea\n          className='form-control'\n          id='description'\n          name='description'\n          rows='10'\n          value={description}\n          onChange={handleChange}\n          placeholder='Enter product description'\n        ></textarea>\n      </div>\n      <div className='form-row'>\n        <div className='form-group col-md-6'>\n          <label htmlFor='category'>Category</label>\n          <select\n            className='form-control'\n            name='category'\n            id='category'\n            value={category}\n            onChange={handleCategorySelect}\n          >\n            <option>Select Category</option>\n            {renderCategorySelectOption}\n          </select>\n        </div>\n      </div>\n      {showSubCat && (\n        <div className='form-row'>\n          <div className='form-group col-md-12'>\n            <label>Sub-categories</label>\n            <Select\n              mode='multiple'\n              style={â€Œ{ width: '100%' }}\n              value={subCategory}\n              onChange={(value) =>\n                setFormData({ ...formData, subCategory: value })\n              }\n            >\n              {subCategories.length > 0 && renderSubCategorySelectOption}\n            </Select>\n          </div>\n        </div>\n      )}\n \n      <div className='form-row'>\n        <div className='form-group col-md-4'>\n          <label htmlFor='price'>Price</label>\n          <input\n            type='number'\n            name='price'\n            id='price'\n            value={price}\n            className='form-control'\n            autoComplete='off'\n            placeholder='Enter product price'\n            onChange={handleChange}\n          />\n        </div>\n        <div className='form-group col-md-4'>\n          <label htmlFor='quantity'>Quantity</label>\n          <input\n            type='number'\n            name='quantity'\n            id='quantity'\n            value={quantity}\n            className='form-control'\n            autoComplete='off'\n            placeholder='Enter quantity in stock'\n            onChange={handleChange}\n          />\n        </div>\n      </div>\n      <div className='form-row'>\n        <div className='form-group col-md-4'>\n          <label htmlFor='shipping'>Shipping</label>\n          <select\n            className='form-control'\n            name='shipping'\n            id='shipping'\n            value={shipping}\n            onChange={handleChange}\n          >\n            <option>Select shipping option</option>\n            <option value='Yes'>Yes</option>\n            <option value='No'>No</option>\n          </select>\n        </div>\n        <div className='form-group col-md-4'>\n          <label htmlFor='color'>Color</label>\n          <select\n            className='form-control'\n            name='color'\n            value={color}\n            id='color'\n            onChange={handleChange}\n          >\n            <option>Select a color</option>\n            {colors.map((color) => (\n              <option key={color} value={color}>\n                {color}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div className='form-group col-md-4'>\n          <label htmlFor='brand'>Brand</label>\n          <select\n            className='form-control'\n            name='brand'\n            value={brand}\n            id='brand'\n            onChange={handleChange}\n          >\n            <option>Select a Brand</option>\n            {brands.map((brand) => (\n              <option key={brand} value={brand}>\n                {brand}\n              </option>\n            ))}\n          </select>\n        </div>\n      </div>\n      <Button type='primary' onClick={handleClick}>\n        Submit\n      </Button>\n    </form>\n  );\n};\n \nexport default ProductCreateForm;\n */\n","import React, { useState, useEffect } from \"react\";\nimport AdminNav from \"../../../components/nav/AdminNav\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\nimport { createProduct } from \"../../../functions/product\";\nimport ProductCreateForm from \"../../../components/forms/ProductCreateForm\";\nimport { getCategories, getCategorySubs } from \"../../../functions/category\";\nimport FileUpload from \"../../../components/forms/FileUpload\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\n\n/**\n * EASY WAY TO RE-POPULATE SUBS IF USER SELECT ANOTHER CATEGORY??\n if (product.category._id === e.target.value) {\n  loadProduct();\n} else {\n  setArrayOfSubIds([]);\n}\n */\n\nconst initialState = {\n  title: \"\",\n  description: \"\",\n  price: \"\",\n  offer_price:\"\",\n  reseller_price:\"\",\n  categories: [],\n  category: \"\",\n  subs: [],\n  shipping: \"Yes\",\n  quantity: \"\",\n  images: [\n    // {\n    //   public_id: \"jwrzeubemmypod99e8lz\",\n    //   url:\n    //     \"https://res.cloudinary.com/dcqjrwaoi/image/upload/v1599480909/jwrzeubemmypod99e8lz.jpg\",\n    // },\n    // {\n    //   public_id: \"j7uerlvhog1eic0oyize\",\n    //   url:\n    //     \"https://res.cloudinary.com/dcqjrwaoi/image/upload/v1599480912/j7uerlvhog1eic0oyize.jpg\",\n    // },\n    // {\n    //   public_id: \"ho6wnp7sugyemnmtoogf\",\n    //   url:\n    //     \"https://res.cloudinary.com/dcqjrwaoi/image/upload/v1599480913/ho6wnp7sugyemnmtoogf.jpg\",\n    // },\n  ],\n  colors: [\"Black\", \"Brown\", \"Silver\", \"White\", \"Blue\"],\n  brands: [\"Apple\", \"Samsung\", \"Microsoft\", \"Lenovo\", \"ASUS\"],\n  color: \"White\",\n  brand: \"Apple\",\n};\n\nconst ProductCreate = () => {\n  const [values, setValues] = useState(initialState);\n  const [subOptions, setSubOptions] = useState([]);\n  const [showSub, setShowSub] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  // redux\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadCategories();\n  }, []);\n\n  const loadCategories = () =>\n    getCategories().then((c) => setValues({ ...values, categories: c.data }));\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    createProduct(values, user.token)\n      .then((res) => {\n        console.log(res);\n        window.alert(`\"${res.data.title}\" is created`);\n        window.location.reload();\n      })\n      .catch((err) => {\n        console.log(err);\n        // if (err.response.status === 400) toast.error(err.response.data);\n        toast.error(err.response.data.err);\n      });\n  };\n\n  const handleChange = (e) => {\n    setValues({ ...values, [e.target.name]: e.target.value });\n    // console.log(e.target.name, \" ----- \", e.target.value);\n  };\n\n  const handleCatagoryChange = (e) => {\n    e.preventDefault();\n    console.log(\"CLICKED CATEGORY\", e.target.value);\n    setValues({ ...values, subs: [], category: e.target.value });\n    getCategorySubs(e.target.value).then((res) => {\n      console.log(\"SUB OPTIONS ON CATGORY CLICK\", res);\n      setSubOptions(res.data);\n    });\n    setShowSub(true);\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <AdminNav />\n        </div>\n\n        <div className=\"col-md-10\">\n          {loading ? (\n            <LoadingOutlined className=\"text-danger h1\" />\n          ) : (\n            <h4>Product create</h4>\n          )}\n          <hr />\n\n          {/* {JSON.stringify(values.images)} */}\n\n          <div className=\"p-3\">\n            <FileUpload\n              values={values}\n              setValues={setValues}\n              setLoading={setLoading}\n            />\n          </div>\n\n          <ProductCreateForm\n            handleSubmit={handleSubmit}\n            handleChange={handleChange}\n            setValues={setValues}\n            values={values}\n            handleCatagoryChange={handleCatagoryChange}\n            subOptions={subOptions}\n            showSub={showSub}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductCreate;\n"],"sourceRoot":""}